# **新規フィットネスプラットフォーム「ジムトピア」要件定義書**

## **開発環境とツール**

### **AIアシスタント統合**
本プロジェクトでは、開発効率と品質向上のため、以下のAIツールを統合して使用します：

- **Claude Code**: Anthropic社の公式CLI AIアシスタント
- **Codex (Cursor)**: AI搭載のコードエディタ

両ツールは`CLAUDE.md`に記載されたガイドラインを共有し、一貫性のあるコーディングスタイルと実装パターンを維持します。

### **技術スタック**
- **フロントエンド**: Next.js (App Router), TypeScript, Tailwind CSS
- **バックエンド**: Supabase (PostgreSQL, Auth, Storage)
- **アイコン**: lucide-react
- **開発環境**: Node.js, npm

## **第1章：プロジェクトの全体像**

### **1.1. 背景と目的**

#### **1.1.1. プロジェクトの再定義：「サウナイキタイ」の成功要因をジム領域で再現する**

当初、本プロジェクトはフィットネス初心者層の参入障壁撤廃を主目的としていた。しかし、市場には類似の都度利用サービスが既に存在し、明確な差別化が困難である。競合との差別化を図り、持続的に成長するプラットフォームを構築するためには、より熱量の高いユーザー層、すなわち**「ジムを愛する人々（ジム愛好家）」**を初期のコアターゲットとして明確に設定し、彼らが熱狂するサービスを創り上げる戦略へと転換する。

この戦略の指針となるのが、サウナ検索サイト「サウナイキタイ」の成功モデルである。「サウナイキタイ」は、単なる施設検索サイトではない。サウナの温度、水風呂の温度、ロウリュの種類といった、愛好家が真に求める**「こだわり」の情報を徹底的に可視化**し、ユーザーがその情報を共有・評価できるコミュニティを形成することで、代替不可能なプラットフォームとしての地位を確立した。

本プロジェクト「ジムトピア」は、この成功モデルをジム領域で再現することを目的とする。目指すのは、**「日本一マニアックで詳細な、ジム愛好家のための検索・コミュニティサイト」**である。

#### **1.1.2. プロジェクト目的**

上記方針に基づき、プロジェクト目的を以下のように再設定する。

1. **「こだわり」による検索体験の実現:** パワーラックのメーカー・台数、ダンベルの最大重量、特定のマシンの有無といった、ジム愛好家が施設選びで最も重視する**「設備（ギア）」情報**を軸とした、詳細かつマニアックな検索機能を提供する。これにより、「自分にとって最高の環境」を求めるユーザーの根源的な欲求に応える。  
2. **熱量の高いコミュニティの形成:** ユーザーが自身のトレーニング記録（「ジム活」）や設備のレビューを投稿・共有できる機能を核とする。ユーザー生成コンテンツ（UGC）がプラットフォームの価値を高め、新たなユーザーを惹きつける好循環を生み出す。  
3. **施設との共創関係の構築:** 施設提供者に対し、自らの「こだわり」をアピールできる**無料の施設管理ページ**を提供する。施設側が詳細な設備情報を自ら入力・更新することで、情報の正確性と鮮度を担保し、ユーザーと施設の最適なマッチングを実現する。

### **1.2. ユーザーペルソナと役割**

ターゲットユーザーを「ジム愛好家」にシフトする。

* **一般ユーザー（コアターゲット）:**  
  * **ペルソナ：筋トレ愛好家「田中さん」**  
    * **属性:** 30代前半、男性、ITエンジニア。トレーニング歴5年。  
    * **状況:** 週4-5回、本格的なウエイトトレーニングを行っている。自宅や職場の近くに複数のジムがあるが、設備の詳細が分からず、どこが自分に最適か判断できない。「ROGUE社のパワーラックがあるか」「ダンベルが50kgまであるか」がジム選びの最重要項目。  
    * **ニーズ:** 「出張先や旅行先でも、妥協せずにトレーニングできる環境を見つけたい」「特定のメーカーのマシンがあるジムを探したい」「他のガチ勢のレビューを参考にしたい」。  
    * **ジムトピアへの期待:** 設備メーカーや台数で絞り込める検索機能。ユーザー投稿によるリアルな設備写真。トレーニング記録を共有できるコミュニティ。  
* **施設提供者:**  
  * **ペルソナ：こだわりジムのオーナー「鈴木さん」**  
    * **属性:** 40代、男性。マニアックなマシンを揃えた個人経営ジムのオーナー。  
    * **状況:** 大手のような広告費はかけられないが、設備の質には絶対の自信がある。この「こだわり」を理解してくれる、熱心なトレーニーにこそ来てほしいと考えている。  
    * **ニーズ:** 「自慢の設備を効果的にアピールしたい」「設備の良さを理解してくれる客層にリーチしたい」「広告費をかけずに集客したい」。  
    * **ジムトピアへの期待:** 設備情報を詳細に登録できる無料の管理ページ。自社のファンになってくれる可能性のある、質の高いユーザー層へのアプローチ。

## **第3章：機能要件**

### **3.1. コア機能の再定義**

#### **3.1.1. 【最重要】超詳細検索・発見機能（理想のジムカタログビルダー）**

* **ユーザーストーリー:**  
  * ジム愛好家として、私は「大胸筋上部を鍛えられるマシン」「Hammer Strength製のマシン」といった条件を、まるでショッピングカートに商品を入れるかのように、自分の「理想のジムカタログ」に次々と追加していきたい。そして、この世に存在するはずがないような、自分だけのわがままな条件リストが完成したとき、検索ボタンを押すことで、日本のどこかにある「夢のジム」と出会いたい。  
* **受入基準 (Acceptance Criteria):**  
  * **UI/UX:**  
    * 検索インターフェースは、静的なチェックボックスリストではなく、**「条件リスト」**と**「作成中のカタログ」**の2ペインで構成される動的な「カタログビルダー」形式を採用する。  
    * ユーザーは、「鍛えたい部位」や「マシンメーカー」などのカテゴリから、希望する条件をクリック（またはドラッグ＆ドロップ）することで、「作成中のカタログ」にその条件を直感的に追加できる。  
    * 「作成中のカタログ」に追加された条件は、タグ形式で表示され、いつでも簡単に追加・削除できる。  
    * **検索結果の表示:** 検索実行後、結果はまず**地図（マップビュー）**として表示される。ユーザーが作成した「理想のジムカタログ」の条件を満たす施設が、地図上にピンとしてプロットされる。ピンをクリックすると、施設の概要（名称、評価）がポップアップ表示される。地図と連動したリスト形式での表示も可能とし、ユーザーは表示形式を切り替えられる。  
  * **検索条件:**  
    * **基本設備:** パワーラック（台数、メーカー）、スクワットラック（台数）、ベンチプレス台（台数）、デッドリフトプラットフォームの有無。  
    * **フリーウェイト:** ダンベル（最大重量、刻み幅）、バーベルの種類（オリンピックバー、ヘックスバー等）、ケトルベル。  
    * **マシンメーカー:** Hammer Strength, Cybex, Life Fitness, Prime, ROGUEなど、主要メーカーを網羅する。  
    * **鍛えられる部位（ターゲットマッスル）:**  
      * **胸:** 大胸筋上部, 大胸筋中部, 大胸筋下部  
      * **腕:** 上腕二頭筋, 上腕三頭筋  
      * **肩:** 三角筋前部, 三角筋中部, 三角筋後部  
      * **腹:** 腹筋, 腹斜筋  
      * **背中:** 僧帽筋, 広背筋上部, 広背筋中部, 広背筋下部  
      * **脚:** 大腿四頭筋（大腿直筋, 外側広筋, 内側広筋）, ハムストリングス, ふくらはぎ  
    * **その他:** 24時間営業、シャワー、駐車場、チョーク利用可否、ドロップイン（都度利用）料金。  
  * **検索ロジック:** 「作成中のカタログ」に追加された条件リストに対し、**AND（すべての条件を満たす）**または**OR（いずれかの条件を満たす）**の検索ロジックをユーザーが選択できる。  
  * 検索結果は、ユーザーレビュー評価順、現在地からの距離順に加え、「イキタイ数」順でソートできる。

#### **3.1.2. 施設詳細ページ**

* **ユーザーストーリー:**
  * ジムを検討しているユーザーとして、私は施設のページで、他のユーザーが投稿した写真や、網羅的な設備リスト、時間帯別の混雑度レポートを確認したい。これにより、訪問前にジムの雰囲気と実態を正確に把握できる。
* **受入基準:**
  * **設備情報セクション:** 3.1.1で定義した項目が、アイコンと共に一覧表示される。各項目には施設側が入力した情報（例：「パワーラック x 3台 (ROGUE製)」）が表示される。
  * **ユーザー投稿ギャラリー:** ユーザーが投稿した施設内の写真が表示される。
  * **混雑度レポート:** ユーザーがチェックイン時に「空いている/普通/混んでいる」を投稿でき、曜日・時間帯別の統計データとして表示される。
  * **「イキタイ」ボタン:** ユーザーが気になる施設をブックマークできる。
  * **チェックイン機能:**
    * **ジムステータスの証明機能:** 海外の有名ジムや希少性の高いジムへの訪問実績を証明する機能。GPS位置情報により、実際にその場所にいることを確認。
    * **不正防止メカニズム:**
      * GPS座標での厳密な位置確認（施設から100m以内でのみチェックイン可能）
      * リアルタイム認証（チェックイン時刻の記録）
      * 写真証拠の添付オプション（ジム内の写真をチェックインに添付可能）
    * **ステータス表示:**
      * レアジム訪問バッジ（Gold's Gym Venice、Muscle Beach等）
      * ジム制覇マップ（訪問済みジムの地図上表示）
      * 訪問実績ランキング（希少度別、国別、地域別）

#### **3.1.3. コミュニティ機能（ジム活）**

* **ユーザーストーリー:**  
  * ジムを利用したユーザーとして、私はその日のトレーニング内容（種目、重量、回数）や、設備の使い心地、ジムの雰囲気などを「ジム活」として記録・投稿したい。これにより、自分の成長を記録すると共に、他のユーザーに有益な情報を提供できる。  
* **受入基準:**  
  * 施設利用後、ユーザーはレビューを投稿できる。  
  * レビューには、5段階評価、テキストコメントに加え、構造化されたデータ（トレーニング種目、混雑度）を含めることができる。  
  * 投稿された「ジム活」は、施設詳細ページおよびユーザー個人のプロフィールページにタイムライン形式で表示される。

### **3.3. 【新規】施設提供者向けマイページ機能**

* **ユーザーストーリー:**  
  * ジムのオーナーとして、私は無料でアカウントを作成し、自分の施設の詳細情報（特にこだわりの設備リスト）を登録・編集できる管理ページがほしい。これにより、広告費をかけずに、熱心なジム愛好家へ直接アピールできる。  
* **受入基準:**  
  * 無料のアカウント登録機能。  
  * **施設情報管理:**  
    * 基本情報（住所、営業時間、料金体系）の登録・編集。  
    * **設備リスト管理:** 3.1.1で定義された詳細な設備項目について、メーカー名や台数、対応するターゲットマッスルなどを自由に入力できるインターフェースを提供する。  
    * 公式写真のアップロード機能。  
    * ユーザーから投稿されたレビューへの返信機能。  
  * ID/パスワードを発行し、メールで施設側に送付することで、登録を促す運用フローを確立する。

（その他の章は、この新しいコンセプトに合わせて適宜調整されるものとする）